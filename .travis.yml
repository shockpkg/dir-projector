language: node_js

env:
  global:
  - SHOCKPKG_PACKAGES_WIN_LIN="
      shockwave-projector-director-7.0.0-win-win
      shockwave-projector-director-7.0.2-2-win-win
      shockwave-projector-director-7.0.2-trial-win-win
      shockwave-projector-director-7.0.2-win-win
      shockwave-projector-director-8.0.0-trial-win-win
      shockwave-projector-director-8.0.0-win-win
      shockwave-projector-director-8.5.0-win-win
      shockwave-projector-director-8.5.0-trial-win-win
      shockwave-projector-director-8.5.1-win-win
      shockwave-projector-director-8.5.1-trial-win-win
      shockwave-projector-director-9.0.0-win-win
      shockwave-projector-director-9.0.0-trial-win-win
      shockwave-projector-director-10.0.0-mac-win
      shockwave-projector-director-10.0.0-win-win
      shockwave-projector-director-10.1.0-mac-win
      shockwave-projector-director-10.1.0-win-win
      shockwave-projector-director-10.1.1-mac-win
      shockwave-projector-director-10.1.1-win-win
      shockwave-projector-director-11.0.0-mac-win
      shockwave-projector-director-11.0.0-win-win
      shockwave-projector-director-11.0.0-hotfix-1-mac-win
      shockwave-projector-director-11.0.0-hotfix-3-mac-win
      shockwave-projector-director-11.0.0-hotfix-3-win-win
      shockwave-projector-director-11.5.0-mac-win
      shockwave-projector-director-11.5.0-win-win
      shockwave-projector-director-11.5.8-mac-win
      shockwave-projector-director-11.5.8-win-win
      shockwave-projector-director-11.5.9-mac-win
      shockwave-projector-director-11.5.9-win-win
      shockwave-projector-director-12.0.0-mac-win
      shockwave-projector-director-12.0.0-win-win
      shockwave-projector-director-11.0.0-mac-mac-zip
      shockwave-projector-director-11.0.0-win-mac-zip
      shockwave-projector-director-11.0.0-hotfix-1-mac-mac-zip
      shockwave-projector-director-11.0.0-hotfix-3-mac-mac-zip
      shockwave-projector-director-11.0.0-hotfix-3-win-mac-zip
      shockwave-projector-director-11.5.0-mac-mac-zip
      shockwave-projector-director-11.5.0-win-mac-zip
      shockwave-projector-director-11.5.8-mac-mac-zip
      shockwave-projector-director-11.5.8-win-mac-zip
      shockwave-projector-director-11.5.9-mac-mac-zip
      shockwave-projector-director-11.5.9-win-mac-zip
      shockwave-projector-director-12.0.0-mac-mac-zip
      shockwave-projector-director-12.0.0-win-mac-zip"
  - SHOCKPKG_PACKAGES_MAC="
      shockwave-projector-director-7.0.0-win-win
      shockwave-projector-director-7.0.2-2-win-win
      shockwave-projector-director-7.0.2-trial-win-win
      shockwave-projector-director-7.0.2-win-win
      shockwave-projector-director-8.0.0-trial-win-win
      shockwave-projector-director-8.0.0-win-win
      shockwave-projector-director-8.5.0-win-win
      shockwave-projector-director-8.5.0-trial-win-win
      shockwave-projector-director-8.5.1-win-win
      shockwave-projector-director-8.5.1-trial-win-win
      shockwave-projector-director-9.0.0-win-win
      shockwave-projector-director-9.0.0-trial-win-win
      shockwave-projector-director-10.0.0-mac-win
      shockwave-projector-director-10.0.0-win-win
      shockwave-projector-director-10.1.0-mac-win
      shockwave-projector-director-10.1.0-win-win
      shockwave-projector-director-10.1.1-mac-win
      shockwave-projector-director-10.1.1-win-win
      shockwave-projector-director-11.0.0-mac-win
      shockwave-projector-director-11.0.0-win-win
      shockwave-projector-director-11.0.0-hotfix-1-mac-win
      shockwave-projector-director-11.0.0-hotfix-3-mac-win
      shockwave-projector-director-11.0.0-hotfix-3-win-win
      shockwave-projector-director-11.5.0-mac-win
      shockwave-projector-director-11.5.0-win-win
      shockwave-projector-director-11.5.8-mac-win
      shockwave-projector-director-11.5.8-win-win
      shockwave-projector-director-11.5.9-mac-win
      shockwave-projector-director-11.5.9-win-win
      shockwave-projector-director-12.0.0-mac-win
      shockwave-projector-director-12.0.0-win-win
      shockwave-projector-director-11.0.0-mac-mac
      shockwave-projector-director-11.0.0-win-mac
      shockwave-projector-director-11.0.0-hotfix-1-mac-mac
      shockwave-projector-director-11.0.0-hotfix-3-mac-mac
      shockwave-projector-director-11.0.0-hotfix-3-win-mac
      shockwave-projector-director-11.5.0-mac-mac
      shockwave-projector-director-11.5.0-win-mac
      shockwave-projector-director-11.5.8-mac-mac
      shockwave-projector-director-11.5.8-win-mac
      shockwave-projector-director-11.5.9-mac-mac
      shockwave-projector-director-11.5.9-win-mac
      shockwave-projector-director-12.0.0-mac-mac
      shockwave-projector-director-12.0.0-win-mac"

matrix:
  include:
  - os: linux
    node_js: v10.0.0
    env:
    - NO_LINT=1
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_WIN_LIN"

  - os: osx
    node_js: v10.0.0
    env:
    - NO_LINT=1
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_MAC"

  - os: windows
    node_js: v10.0.0
    env:
    - NO_LINT=1
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_WIN_LIN"

  - os: linux
    node_js: v14.11.0
    env:
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_WIN_LIN"

  - os: osx
    node_js: v14.11.0
    env:
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_MAC"

  - os: windows
    node_js: v14.11.0
    env:
    - SHOCKPKG_PACKAGES="$SHOCKPKG_PACKAGES_WIN_LIN"

script:
- npm run shockpkg -- update --summary
- npm run shockpkg -- install $SHOCKPKG_PACKAGES
- npm run clean
- if [ "$NO_LINT" != "1" ]; then npm run lint; fi
- npm run build
- npm run test
